<form [formGroup]="form" class="d-flex flex-column gap-2">
  <input type="hidden" digitsOnly class="form-control" formControlName="identifier" [readonly]="readonlyIdentifier" required>
  <!-- TOP: Accommodation Creation (2 sub-columns) -->
  <div formGroupName="accommodation">
    <div class="d-flex flex-row flex-grow-1">
      <div class="flex-grow-1 d-flex flex-column column-box">
        <h5 class="fw-bold mb-3">{{ 'DossiersSection.AccommodationCreation' | translate }}</h5>   
        <div class="d-flex flex-row flex-grow-1 gap-3">
          <!-- Accommodation sub-col 1: general info -->      
          <div class="d-flex flex-column flex-grow-1 w-50">

            <app-field controlName="identifier" label="{{ 'DossiersSection.Identifier' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-list-ol">
              <input type="text" digitsOnly class="form-control" formControlName="identifier" [readonly]="readonlyIdentifier" required>
            </app-field>

            <app-field controlName="accommodationName" label="{{ 'DossiersSection.AccommodationName' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-house">
              <input type="text" class="form-control" formControlName="accommodationName" required>
            </app-field>                  

            <app-field controlName="accommodationPhone" label="{{ 'DossiersSection.AccommodationPhone' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-telephone">
              <input type="text" class="form-control" formControlName="accommodationPhone">
            </app-field>          

            <div formGroupName="accommodationType">
              <app-field controlName="identifier" label="{{ 'DossiersSection.AccommodationTypeIdentifier' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-house-gear">
                <select class="form-select form-select-sm" formControlName="identifier" required>
                  <option [value]="null" disabled>-- {{ 'DossiersSection.AccommodationTypeIdentifier' | translate }} --</option>
                  <option *ngFor="let type of accommodationTypes" [ngValue]="type.identifier">{{ type.label }}</option>
                </select>
              </app-field>  
            </div>

            <app-field controlName="accommodationCurrentStar" label="{{ 'DossiersSection.AccommodationCurrentStar' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-star">
              <select class="form-select form-select-sm" formControlName="accommodationCurrentStar" required>
                <option [value]="null" disabled>-- {{ 'DossiersSection.AccommodationCurrentStar' | translate }} --</option>
                <option *ngFor="let star of starOptions" [ngValue]="star">{{ star }} â˜…</option>
              </select>
            </app-field>

            <app-field controlName="isActive" label="{{ 'DossiersSection.AccommodationActive' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-house-check">
              <select class="form-select" formControlName="isActive" required>
                <option [value]="true">{{ 'CommonSection.Yes' | translate }}</option>
                <option [value]="false">{{ 'CommonSection.No' | translate }}</option>
              </select>          
            </app-field>
          </div>

          <!-- Accommodation sub-col 2: address -->
          <div class="d-flex flex-column flex-grow-1 w-50" formGroupName="address">
            <app-address-autocomplete (addressSelected)="onAddressSelected($event)"></app-address-autocomplete>

            <app-field controlName="identifier" label="{{ 'AddressSection.Identifier' | translate }}" labelClass="w-8rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-list-ol">
              <input type="text" digitsOnly class="form-control" formControlName="identifier" [readonly]="readonlyIdentifier" required>
            </app-field>
                      
            <app-field controlName="number" label="{{ 'AddressSection.Number' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-1-square">
              <input type="text" formControlName="number" class="form-control form-control-sm" id="number" required>
            </app-field>

            <app-field controlName="addressLine" label="{{ 'AddressSection.AddressLine' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-geo-alt">
              <input type="text" formControlName="addressLine" class="form-control form-control-sm" id="addressLine" required>        
            </app-field>

            <app-field controlName="city" label="{{ 'AddressSection.City' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-building">
              <input type="text" formControlName="city" class="form-control form-control-sm" id="city" required>        
            </app-field>

            <app-field controlName="zipCode" label="{{ 'AddressSection.ZipCode' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-mailbox">
              <input type="text" formControlName="zipCode" class="form-control form-control-sm" id="zipCode" required>        
            </app-field>

            <app-field controlName="region" label="{{ 'AddressSection.Region' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-geo">
              <input type="text" formControlName="region" class="form-control form-control-sm" id="region" >        
            </app-field>

            <div formGroupName="country">
              <app-field controlName="identifier" label="{{ 'AddressSection.Country' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-globe">
                <select class="form-select" formControlName="identifier" (change)="onCountryChange($event)" required>
                  <option *ngFor="let c of countries" [ngValue]="c.identifier"> {{ c.name }} </option>
                </select>
              </app-field>
            </div>      
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BOTTOM: Folder Creation -->
  <div class="d-flex flex-row flex-grow-1">
    <div class="flex-grow-1 d-flex flex-column column-box">
      <h5 class="fw-bold mb-3">{{ 'DossiersSection.FolderCreation' | translate }}</h5>  

      <div formGroupName="owner">
        <app-field controlName="identifier" label="{{ 'DossiersSection.Owner' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-list-ol">
          <select formControlName="identifier" class="form-select form-select-sm" required>
            <option [value]="null" disabled>-- {{ 'DossiersSection.Owner' | translate }} --</option>
            <option *ngFor="let owner of owners" [ngValue]="owner.identifier">{{ owner.lastName }} {{ owner.firstName }}</option>
          </select>          
        </app-field>
      </div>    

      <div formGroupName="folderStatus">
        <app-field controlName="identifier" label="{{ 'DossiersSection.Status' | translate }}" labelClass="w-10rem start fw-bold" labelTextPosition="start" controlClass="w-100" icon="bi bi-list-ol">
          <select formControlName="identifier" class="form-select form-select-sm" required>
            <option [value]="null" disabled>-- {{ 'DossiersSection.FolderStatusIdentifier' | translate }} --</option>
            <option *ngFor="let status of folderStatuses" [ngValue]="status.identifier">{{ status.label }}</option>
          </select>     
        </app-field>   
      </div>
    </div>
  </div>
</form>
